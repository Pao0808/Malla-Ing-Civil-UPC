<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Plan de Estudios - IngenierÃ­a Civil</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>ğŸ“˜ Plan de Estudios - IngenierÃ­a Civil</h1>

    <div class="info-global">
      <p>ğŸ§® CrÃ©ditos aprobados: <span id="creditos">0</span></p>
      <div class="botones">
        <button onclick="marcarTodo()">âœ… Marcar todo</button>
        <button onclick="reiniciar()">â™»ï¸ Reiniciar</button>
        <button onclick="toggleOcultar()">ğŸ‘ï¸ Ocultar aprobadas</button>
      </div>
    </div>

    <div id="plan-estudios"></div>
  </div>

  <script>
const materias = [
  // ğŸ“˜ SEMESTRE 1
  { codigo: "HU625", nombre: "ğŸ—£ï¸ ComprensiÃ³n y ProducciÃ³n de Lenguaje I", creditos: 4, semestre: 1 },
  { codigo: "CI161", nombre: "ğŸ–Šï¸ Dibujo Asistido por el Computador", creditos: 4, semestre: 1 },
  { codigo: "CI709", nombre: "ğŸ—ï¸ IntroducciÃ³n a la IngenierÃ­a Civil", creditos: 3, semestre: 1 },
  { codigo: "MA420", nombre: "ğŸ“ MatemÃ¡tica BÃ¡sica", creditos: 6, semestre: 1 },
  { codigo: "MA465", nombre: "ğŸ§ª QuÃ­mica", creditos: 4, semestre: 1 },

  // ğŸ“˜ SEMESTRE 2
  { codigo: "HU626", nombre: "ğŸ—£ï¸ ComprensiÃ³n y ProducciÃ³n de Lenguaje II", creditos: 4, semestre: 2, requisitos: ["HU625"] },
  { codigo: "MA262", nombre: "ğŸ“Š CÃ¡lculo I", creditos: 6, semestre: 2, requisitos: ["MA420"] },
  { codigo: "HU159", nombre: "ğŸ“– Seminario de InvestigaciÃ³n AcadÃ©mica I", creditos: 1, semestre: 2, requisitos: ["HU625"] },
  { codigo: "HU612", nombre: "ğŸ’¡ Creatividad y Liderazgo", creditos: 3, semestre: 2 },
  { codigo: "CI556", nombre: "ğŸ—ºï¸ TopografÃ­a", creditos: 4, semestre: 2, requisitos: ["CI161", "MA420"] },

  // ğŸ“˜ SEMESTRE 3
  { codigo: "MA263", nombre: "ğŸ“Š CÃ¡lculo II", creditos: 6, semestre: 3, requisitos: ["MA262"] },
  { codigo: "MA444", nombre: "ğŸ“ˆ EstadÃ­stica", creditos: 4, semestre: 3, requisitos: ["MA262"] },
  { codigo: "MA466", nombre: "ğŸ§² FÃ­sica I", creditos: 4, semestre: 3, requisitos: ["MA262"] },
  { codigo: "CI164", nombre: "ğŸ—ï¸ Materiales de ConstrucciÃ³n", creditos: 4, semestre: 3, requisitos: ["CI709", "MA420", "MA465"] },
  { codigo: "HU548", nombre: "ğŸ§­ Ã‰tica y CiudadanÃ­a", creditos: 2, semestre: 3 },

  // ğŸ“˜ SEMESTRE 4
  { codigo: "MA264", nombre: "ğŸ“ Ecuaciones Diferenciales y Ãlgebra Lineal", creditos: 6, semestre: 4, requisitos: ["MA263"] },
  { codigo: "CI119", nombre: "âš–ï¸ EstÃ¡tica", creditos: 4, semestre: 4, requisitos: ["MA466"] },
  { codigo: "MA462", nombre: "âš™ï¸ FÃ­sica II", creditos: 4, semestre: 4, requisitos: ["MA466"] },
  { codigo: "CI557", nombre: "ğŸ§± TecnologÃ­a del Concreto", creditos: 3, semestre: 4, requisitos: ["CI164"] },
  { codigo: "ELECT1", nombre: "ğŸ” Electivo 1", creditos: 3, semestre: 4 },

  // ğŸ“˜ SEMESTRE 5
  { codigo: "CI560", nombre: "ğŸ—ï¸ ConstrucciÃ³n I", creditos: 4, semestre: 5, requisitos: ["MA444", "CI557"] },
  { codigo: "CI558", nombre: "ğŸ”„ DinÃ¡mica", creditos: 5, semestre: 5, requisitos: ["MA263", "CI119"] },
  { codigo: "CI559", nombre: "ğŸš§ IngenierÃ­a de Carreteras", creditos: 3, semestre: 5, requisitos: ["MA263", "CI556"] },

  // ğŸ“˜ SEMESTRE 6
  { codigo: "CI168", nombre: "ğŸ§² MecÃ¡nica de Materiales", creditos: 5, semestre: 6, requisitos: ["MA263", "CI119"] },
  { codigo: "CI561", nombre: "ğŸŒ MecÃ¡nica de Suelos", creditos: 5, semestre: 6, requisitos: ["MA263", "CI119"] },
  { codigo: "CI706", nombre: "ğŸ§® AnÃ¡lisis Estructural", creditos: 5, semestre: 6, requisitos: ["CI168"] },
  { codigo: "CI707", nombre: "ğŸ—ï¸ IngenierÃ­a de Cimentaciones", creditos: 5, semestre: 6, requisitos: ["CI561"] },
  { codigo: "CI708", nombre: "ğŸ“‰ AnÃ¡lisis NumÃ©rico", creditos: 4, semestre: 6, requisitos: ["CI558", "MA264"] },
  { codigo: "CI565", nombre: "ğŸŒŠ MecÃ¡nica de Fluidos", creditos: 5, semestre: 6, requisitos: ["CI558", "MA264"] },
  { codigo: "CI566", nombre: "ğŸ™ï¸ ModelaciÃ³n de Edificaciones", creditos: 2, semestre: 6, requisitos: ["CI560"] },

  // ğŸ“˜ SEMESTRE 7
  { codigo: "CI568", nombre: "ğŸ›ï¸ DiseÃ±o en Concreto", creditos: 5, semestre: 7, requisitos: ["CI706"] },
  { codigo: "CI569", nombre: "ğŸ”© ConstrucciÃ³n II", creditos: 5, semestre: 7, requisitos: ["CI566"] },
  { codigo: "CI570", nombre: "ğŸ’µ Costos y Presupuestos", creditos: 3, semestre: 7, requisitos: ["CI560"] },
  { codigo: "CI572", nombre: "ğŸŒ€ HidrÃ¡ulica de Canales", creditos: 4, semestre: 7, requisitos: ["CI565"] },
  { codigo: "CI571", nombre: "ğŸš¦ IngenierÃ­a de TrÃ¡nsito", creditos: 3, semestre: 7, requisitos: ["CI559"] },
  { codigo: "ELECT2", nombre: "ğŸ” Electivo 2", creditos: 3, semestre: 7 },

  // ğŸ“˜ SEMESTRE 8
  { codigo: "CI575", nombre: "ğŸ“‹ PlanificaciÃ³n y Control de Obras", creditos: 3, semestre: 8, requisitos: ["CI570"] },
  { codigo: "IN397", nombre: "ğŸ“š InvestigaciÃ³n AcadÃ©mica II", creditos: 3, semestre: 8 },
  { codigo: "CI574", nombre: "ğŸ§  Taller de Tesis", creditos: 3, semestre: 8 },
  { codigo: "ELECT3", nombre: "ğŸ” Electivo 3", creditos: 3, semestre: 8 },
  { codigo: "ELECT4", nombre: "ğŸ” Electivo 4", creditos: 3, semestre: 8 },
  { codigo: "ELECT5", nombre: "ğŸ” Electivo 5", creditos: 3, semestre: 8 },

  // ğŸ“˜ SEMESTRE 9
  { codigo: "CI723", nombre: "ğŸ“ˆ Gerencia de Proyectos", creditos: 3, semestre: 9, requisitos: ["CI570"] },
  { codigo: "CI576", nombre: "ğŸ—ï¸ IngenierÃ­a Sismo-Resistente", creditos: 5, semestre: 9, requisitos: ["CI706"] },
  { codigo: "CI579", nombre: "ğŸ”§ Productividad en Obras", creditos: 3, semestre: 9, requisitos: ["CI570"] },
  { codigo: "CI578", nombre: "ğŸ“ Proyecto de Tesis I", creditos: 5, semestre: 9, requisitos: ["IN397", "CI574"] },
  { codigo: "ELECT6", nombre: "ğŸ” Electivo 6", creditos: 3, semestre: 9 },

  // ğŸ“˜ SEMESTRE 10
  { codigo: "CI189", nombre: "ğŸ“ Proyecto de Tesis II", creditos: 5, semestre: 10, requisitos: ["CI578"] },
  { codigo: "ELECT7", nombre: "ğŸ” Electivo 7", creditos: 3, semestre: 10 },
  { codigo: "ELECT8", nombre: "ğŸ” Electivo 8", creditos: 3, semestre: 10 },
  { codigo: "ELECT9", nombre: "ğŸ” Electivo 9", creditos: 3, semestre: 10 },
  { codigo: "ELECT10", nombre: "ğŸ” Electivo 10", creditos: 3, semestre: 10 },
];

let ocultarAprobadas = false;

function guardarEstado() {
  localStorage.setItem("estadoMaterias", JSON.stringify(materias.map(m => m.aprobada || false)));
}

function cargarEstado() {
  const estado = JSON.parse(localStorage.getItem("estadoMaterias")) || [];
  materias.forEach((m, i) => m.aprobada = estado[i] || false);
}

function requisitosCumplidos(materia) {
  if (!materia.requisitos) return true;
  return materia.requisitos.every(cod => materias.find(m => m.codigo === cod && m.aprobada));
}

function render() {
  const container = document.getElementById("plan-estudios");
  container.innerHTML = "";
  let totalCreditos = 0;

  for (let semestre = 1; semestre <= 10; semestre++) {
    const grupo = materias.filter(m => m.semestre === semestre);
    const div = document.createElement("div");
    div.className = "semestre";
    const pendientes = grupo.filter(m => !m.aprobada).length;
    div.innerHTML = `<h2>ğŸ“˜ Semestre ${semestre} - Pendientes: ${pendientes}</h2>`;

    grupo.forEach((materia, i) => {
      const id = `materia-${materia.codigo}`;
      const wrapper = document.createElement("div");
      wrapper.className = "materia";

      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.id = id;
      checkbox.checked = materia.aprobada;
      checkbox.disabled = !requisitosCumplidos(materia);
      checkbox.addEventListener("change", () => {
        materia.aprobada = checkbox.checked;
        guardarEstado();
        render();
      });

      const label = document.createElement("label");
      label.htmlFor = id;
      label.textContent = `${materia.nombre} (${materia.codigo}) - ${materia.creditos} crÃ©ditos`;
      if (ocultarAprobadas && materia.aprobada) label.style.display = "none";

      wrapper.appendChild(checkbox);
      wrapper.appendChild(label);
      div.appendChild(wrapper);

      if (materia.aprobada) totalCreditos += materia.creditos;
    });

    container.appendChild(div);
  }

  document.getElementById("creditos").innerText = totalCreditos;
}

function marcarTodo() {
  materias.forEach(m => m.aprobada = true);
  guardarEstado();
  render();
}

function reiniciar() {
  materias.forEach(m => m.aprobada = false);
  guardarEstado();
  render();
}

function toggleOcultar() {
  ocultarAprobadas = !ocultarAprobadas;
  render();
}

cargarEstado();
render();
</script>
</body>
</html>
